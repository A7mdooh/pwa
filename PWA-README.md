# 📱 برنامج الأنشطة الصفية - Progressive Web App (PWA)

تم تحويل برنامج الأنشطة الصفية إلى تطبيق ويب تقدمي (PWA) لتوفير تجربة مشابهة للتطبيقات المحلية.

## ✨ الميزات الجديدة للـ PWA

### 🚀 التثبيت والوصول
- **تثبيت على الجهاز**: يمكن تثبيت التطبيق على الشاشة الرئيسية للهاتف أو الحاسوب
- **وصول سريع**: أيقونة مخصصة على سطح المكتب والشاشة الرئيسية
- **تشغيل مستقل**: يعمل في نافذة منفصلة بدون شريط المتصفح

### 🔌 العمل بدون إنترنت
- **تخزين محلي**: جميع الأنشطة والملفات الصوتية محفوظة محلياً
- **صفحة أوفلاين**: واجهة مخصصة عند انقطاع الإنترنت
- **مزامنة تلقائية**: تحديث البيانات عند استعادة الاتصال

### 🔔 الإشعارات والتحديثات
- **إشعارات الدفع**: تنبيهات للأنشطة والأحداث المهمة
- **تحديثات تلقائية**: تنزيل التحديثات في الخلفية
- **حالة الاتصال**: مراقبة مستمرة لحالة الإنترنت

## 📋 متطلبات التشغيل

### المتصفحات المدعومة
- ✅ Chrome 67+
- ✅ Firefox 60+
- ✅ Safari 12.1+
- ✅ Edge 79+
- ✅ Opera 54+

### متطلبات الخادم
- HTTPS (مطلوب للـ PWA)
- دعم Service Workers
- إعدادات MIME صحيحة

## 🛠️ التثبيت والإعداد

### 1. الملفات المضافة للـ PWA
```
Class-activities-main/
├── manifest.json          # Web App Manifest
├── sw.js                  # Service Worker
├── offline.html           # صفحة أوفلاين
├── assets/
│   ├── js/
│   │   └── pwa.js        # مدير PWA
│   └── icons/            # أيقونات مختلفة الأحجام
├── robots.txt            # إعدادات محركات البحث
├── sitemap.xml           # خريطة الموقع
└── .htaccess            # إعدادات الخادم
```

### 2. تحديث الملفات الموجودة
جميع ملفات HTML تم تحديثها لتتضمن:
- رابط Web App Manifest
- إعدادات iOS
- إعدادات Windows
- سكريپت PWA Manager

### 3. الأيقونات المطلوبة
استخدم `icon-generator.html` لإنتاج الأيقونات بالأحجام التالية:
- 72x72px
- 96x96px
- 128x128px
- 144x144px
- 152x152px
- 192x192px
- 384x384px
- 512x512px

## 🚀 كيفية التثبيت للمستخدمين

### على الهواتف الذكية (Android/iOS)

#### Android Chrome:
1. افتح الموقع في Chrome
2. اضغط على قائمة المتصفح (⋮)
3. اختر "إضافة إلى الشاشة الرئيسية"
4. أكد التثبيت

#### iOS Safari:
1. افتح الموقع في Safari
2. اضغط على زر المشاركة (📤)
3. اختر "إضافة إلى الشاشة الرئيسية"
4. أكد التثبيت

### على الحاسوب

#### Chrome/Edge:
1. افتح الموقع
2. ابحث عن أيقونة التثبيت في شريط العنوان (+)
3. اضغط "تثبيت"
4. أو استخدم قائمة المتصفح > "تثبيت التطبيق"

## ⚙️ الإعدادات والتخصيص

### تعديل معلومات التطبيق
قم بتحرير `manifest.json`:
```json
{
  "name": "اسم التطبيق",
  "short_name": "اسم مختصر",
  "description": "وصف التطبيق",
  "start_url": "./index.html",
  "theme_color": "#00796B"
}
```

### تخصيص الألوان
- `theme_color`: لون شريط الحالة
- `background_color`: لون الخلفية عند التشغيل

### إعدادات التخزين المؤقت
قم بتحرير `sw.js` لإضافة/إزالة ملفات من التخزين المؤقت:
```javascript
const STATIC_ASSETS = [
  './',
  './index.html',
  // أضف ملفاتك هنا
];
```

## 🔧 استكشاف الأخطاء

### مشاكل شائعة وحلولها

#### التطبيق لا يظهر للتثبيت
- تأكد من استخدام HTTPS
- تحقق من صحة `manifest.json`
- تأكد من تسجيل Service Worker بنجاح

#### لا يعمل أوفلاين
- تحقق من تسجيل Service Worker
- راجع قائمة الملفات المخزنة مؤقتاً
- تأكد من وجود `offline.html`

#### مشاكل الأيقونات
- تأكد من وجود الأيقونات في المسارات الصحيحة
- تحقق من أحجام الأيقونات المحددة في `manifest.json`

### أدوات التطوير
استخدم Chrome DevTools:
1. افتح DevTools (F12)
2. انتقل إلى تبويب "Application"
3. تحقق من:
   - Service Workers
   - Storage
   - Manifest

## 📊 المراقبة والتحليلات

### معلومات الاستخدام
يمكن مراقبة:
- عدد مرات التثبيت
- الاستخدام أوفلاين
- الأخطاء والمشاكل

### إحصائيات PWA
```javascript
// الحصول على معلومات PWA
const pwaInfo = window.pwaManager.getInfo();
console.log('PWA Status:', pwaInfo);
```

## 🔒 الأمان والخصوصية

### الميزات الأمنية
- Content Security Policy (CSP)
- HTTPS فقط
- حماية من XSS
- منع الوصول للملفات الحساسة

### حماية البيانات
- بيانات الطلاب محمية محلياً
- عدم إرسال بيانات حساسة للخادم
- تشفير التخزين المحلي

## 📈 التحديثات المستقبلية

### ميزات مخططة
- [ ] مزامنة البيانات في الخلفية
- [ ] إشعارات مجدولة
- [ ] دعم الوضع المظلم
- [ ] تحسينات الأداء
- [ ] دعم اللغات المتعددة

### كيفية التحديث
1. رفع الملفات الجديدة للخادم
2. تحديث رقم الإصدار في `sw.js`
3. سيتم تحديث التطبيق تلقائياً للمستخدمين

## 🆘 الدعم والمساعدة

### الحصول على المساعدة
- راجع سجل الأخطاء في Console
- تحقق من حالة Service Worker
- راجع صفحة GitHub للمشروع

### الإبلاغ عن مشاكل
يرجى الإبلاغ عن أي مشاكل مع تضمين:
- نوع الجهاز والمتصفح
- رسائل الأخطاء
- خطوات إعادة إنتاج المشكلة

## 📄 الترخيص

هذا المشروع مرخص تحت رخصة MIT. راجع ملف LICENSE للتفاصيل.

---

**تم تطوير PWA بواسطة:** فريق تطوير برنامج الأنشطة الصفية  
**تاريخ آخر تحديث:** يوليو 2025  
**الإصدار:** 1.0.0
